@model List<ReporterDay.PresentationLayer.Models.Components.CommentListItemViewModel>

<div class="comments">
    <h4 class="comments-count">Yorumlar (@(Model?.Count ?? 0))</h4>

    @if (Model == null || Model.Count == 0)
    {
        <div class="text-muted">Henüz yorum yok.</div>
    }
    else
    {
        foreach (var item in Model.OrderByDescending(x => x.CommentDate))
        {
            <div class="comment d-flex mb-4">
                <div class="comment-img me-3">
                    <img src="~/ZenBlog-1.0.0/assets/img/person-1.jpg" alt=""
                         style="width:48px;height:48px;border-radius:50%;">
                </div>

                <div class="comment-body">
                    <h5 class="mb-1">
                        @item.UserFullName
                        <small class="text-muted ms-2">@item.CommentDate.ToString("dd MMM yyyy")</small>
                    </h5>

                    @* HF kontrolü yapılamadıysa küçük bilgi *@
                    @if (!item.IsCheckAvailable)
                    {
                        <div class="alert alert-secondary py-2 px-3 mb-2" role="alert">
                            Yorum toksik kontrolü şu an yapılamadı.
                        </div>
                    }

                    @* Toksikse uyarı *@
                    @if (item.IsCheckAvailable && item.IsToxic)
                    {
                        <div class="alert alert-warning py-2 px-3 mb-2" role="alert">
                            Bu yorum toksik içerik barındırıyor olabilir.
                        </div>
                    }

                    <p class="mb-0">@item.CommentDetail</p>
                </div>
            </div>
        }
    }
</div>
