@model List<ReporterDay.PresentationLayer.Models.Components.CommentListItemViewModel>

<h4 class="comments-count">Yorumlar (@(Model?.Count ?? 0))</h4>

@if (Model == null || Model.Count == 0)
{
    <p>Henüz yorum yok.</p>
}
else
{
    foreach (var c in Model.OrderByDescending(x => x.CommentDate))
    {
        <div class="comment mb-4">
            <h5 class="mb-1">@c.UserFullName</h5>
            <small class="text-muted">@c.CommentDate.ToString("dd MMM yyyy")</small>

            <p class="mt-2">@c.CommentDetail</p>

            @if (c.IsCheckAvailable)
            {
                if (c.IsToxic)
                {
                    <div class="alert alert-warning mt-2">
                        ⚠️ Bu yorum toksik içerik barındırıyor.
                        <br />
                        <small>Skor: @c.ToxicityScore.ToString("0.00") — Etiket: @c.ToxicLabel</small>
                    </div>
                }
            }
            else
            {
                <small class="text-muted">Toksik kontrol şu an yapılamadı.</small>
            }
        </div>
    }
}
